{% assign needed_subpage_part_count = page.url | split: '/' | size | plus: 1 %}
<div class="my-8">
  <h3 class="text-2xl font-bold text-gray-800 dark:text-gray-200 mb-4">Subpages</h3>
  <ul class="space-y-2">
    {% assign subpages = site.pages | where_exp: "p", "p.url contains page.dir and p.url != page.url" %}
    {% for subpage in subpages %}
      {% assign subpage_url_parts = subpage.url | split: '/' | size %}
      {% if subpage_url_parts == needed_subpage_part_count %}
        <li>
          <a href="{{ subpage.url | relative_url }}" class="text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-600 transition-colors duration-300">
            {{ subpage.subpage_title }}
          </a>
        </li>
      {% endif %}
    {% endfor %}
  </ul>
</div>
